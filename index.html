<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APNA Online Service - Free Image Tools</title>
    <meta name="description" content="Free online image tools - Convert JPG to PDF, resize images, compress photos, edit pictures. No registration required.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #f59e0b;
            --accent: #10b981;
            --light: #f8fafc;
            --dark: #1e293b;
            --success: #059669;
            --warning: #d97706;
            --danger: #dc2626;
            --gray: #64748b;
            --border-radius: 10px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background-color: #f1f5f9;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 1rem 0;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 42px;
            height: 42px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--primary);
            font-size: 1.3rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .logo p {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.2rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.15);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(37, 99, 235, 0.9), rgba(29, 78, 216, 0.8)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%2310b981" opacity="0.1"/></svg>');
            color: white;
            padding: 2.5rem 0;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .hero h2 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 1.5rem;
        }

        .cta-button {
            display: inline-block;
            background: var(--secondary);
            color: white;
            padding: 0.8rem 1.8rem;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .cta-button:hover {
            background: #e58e0b;
            transform: translateY(-2px);
        }

        /* Main Content */
        main {
            padding: 1.5rem 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .section-title h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .section-title p {
            color: var(--gray);
            font-size: 1rem;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.2rem;
            margin-bottom: 1.5rem;
        }

        .tool-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.2rem;
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
            text-align: center;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
        }

        .tool-card.active {
            border-color: var(--accent);
            background-color: rgba(16, 185, 129, 0.05);
        }

        .tool-icon {
            font-size: 2.2rem;
            color: var(--accent);
            margin-bottom: 0.8rem;
        }

        .tool-card h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .tool-card p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .tool-content {
            display: none;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            margin-top: 1.2rem;
        }

        .tool-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Upload Area */
        .upload-area {
            border: 2px dashed var(--gray);
            border-radius: var(--border-radius);
            padding: 2rem 1.5rem;
            text-align: center;
            margin-bottom: 1.2rem;
            transition: var(--transition);
            cursor: pointer;
        }

        .upload-area:hover {
            border-color: var(--accent);
            background-color: rgba(16, 185, 129, 0.05);
        }

        .upload-area i {
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 0.8rem;
        }

        .upload-area h3 {
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .upload-area p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .file-input {
            display: none;
        }

        /* Preview Container */
        .preview-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1rem;
            margin-bottom: 1.2rem;
        }

        .preview-item {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .preview-item img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            display: block;
        }

        .preview-item .remove-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
        }

        /* Controls */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.2rem;
        }

        .control-group {
            flex: 1;
            min-width: 180px;
        }

        .control-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .control-group input, .control-group select {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
        }

        /* Buttons */
        .btn {
            padding: 0.7rem 1.2rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #e58e0b;
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-success:hover {
            background-color: #047857;
        }

        .btn-warning {
            background-color: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background-color: #b45309;
        }

        .action-buttons {
            display: flex;
            gap: 0.8rem;
            margin-top: 1.2rem;
            flex-wrap: wrap;
        }

        /* Image Editor */
        .image-editor {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .editor-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1.2rem;
        }

        .image-preview {
            flex: 1;
            min-width: 280px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            overflow: hidden;
            background: #f9f9f9;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            height: 300px;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        .editor-controls {
            flex: 1;
            min-width: 280px;
        }

        .slider-container {
            margin-bottom: 1.2rem;
        }

        .slider-container label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .slider {
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .slider-value {
            text-align: right;
            color: var(--gray);
            font-size: 0.85rem;
        }

        .resize-controls {
            display: flex;
            gap: 0.8rem;
            margin-bottom: 1.2rem;
        }

        .resize-controls input {
            flex: 1;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
        }

        .size-info {
            background: #f8f9fa;
            padding: 0.7rem;
            border-radius: var(--border-radius);
            margin-top: 0.5rem;
            font-size: 0.85rem;
        }

        .size-info p {
            margin: 0.2rem 0;
        }

        .file-info {
            background: #f8f9fa;
            padding: 0.7rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.2rem;
            font-size: 0.85rem;
        }

        .file-info p {
            margin: 0.2rem 0;
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1.2rem;
        }

        .color-picker input {
            width: 50px;
            height: 35px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
        }

        .bg-options {
            display: flex;
            gap: 0.8rem;
            margin-bottom: 1.2rem;
            flex-wrap: wrap;
        }

        .bg-option {
            padding: 0.5rem 0.8rem;
            background: #f0f0f0;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.85rem;
        }

        .bg-option:hover {
            background: #e0e0e0;
        }

        .bg-option.active {
            background: var(--accent);
            color: white;
        }

        /* Loading */
        .loading {
            display: none;
            text-align: center;
            padding: 1rem;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--accent);
            border-radius: 50%;
            width: 35px;
            height: 35px;
            animation: spin 1s linear infinite;
            margin: 0 auto 0.8rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Features Section */
        .features {
            background: white;
            padding: 2.5rem 0;
            margin: 2rem 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
        }

        .feature-card {
            text-align: center;
            padding: 1.2rem;
        }

        .feature-icon {
            font-size: 2.2rem;
            color: var(--accent);
            margin-bottom: 0.8rem;
        }

        .feature-card h3 {
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
        }

        .feature-card p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Blog Section */
        .blog-section {
            background: white;
            padding: 2.5rem 0;
            margin: 2rem 0;
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .blog-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .blog-card:hover {
            transform: translateY(-3px);
        }

        .blog-image {
            height: 160px;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
        }

        .blog-content {
            padding: 1.2rem;
        }

        .blog-content h3 {
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
        }

        .blog-content p {
            color: var(--gray);
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
        }

        .read-more {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Comments Section */
        .comments-section {
            margin-top: 2rem;
        }

        .comment-form {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .comments-list {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .comment {
            padding: 1.2rem;
            border-bottom: 1px solid #eee;
        }

        .comment:last-child {
            border-bottom: none;
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .comment-author {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .comment-date {
            color: var(--gray);
            font-size: 0.8rem;
        }

        .comment-text {
            color: var(--dark);
            font-size: 0.9rem;
        }

        /* Footer */
        footer {
            background-color: var(--primary-dark);
            color: white;
            padding: 2.5rem 0 1.2rem;
            margin-top: 2rem;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .footer-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.8rem;
        }

        .footer-logo .logo {
            flex-direction: column;
            text-align: center;
        }

        .footer-links {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--secondary);
        }

        .copyright {
            color: #cbd5e1;
            text-align: center;
            margin-top: 1.2rem;
            font-size: 0.85rem;
        }

        .powered-by {
            text-align: center;
            margin-top: 0.8rem;
            font-size: 0.85rem;
            color: #94a3b8;
        }

        .privacy-notice {
            background: #f8f9fa;
            padding: 0.8rem;
            border-radius: var(--border-radius);
            margin: 1rem 0;
            font-size: 0.85rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .editor-container {
                flex-direction: column;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">APNA</div>
                    <div class="logo-text">
                        <h1>APNA Online Service</h1>
                        <p>Free Image Processing Tools</p>
                    </div>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="active">Home</a></li>
                        <li><a href="#tools">Tools</a></li>
                        <li><a href="#blog">Blog</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h2>Professional Image Tools - 100% Free</h2>
            <p>Convert, edit, resize, and optimize your images with our easy-to-use online tools. No registration required.</p>
            <a href="#tools" class="cta-button">Start Editing Now</a>
        </div>
    </section>

    <section class="features">
        <div class="container">
            <div class="section-title">
                <h2>Why Choose Our Tools?</h2>
                <p>Powerful features for all your image processing needs</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üöÄ</div>
                    <h3>Fast Processing</h3>
                    <p>All tools work directly in your browser for instant results.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>Privacy First</h3>
                    <p>Your files never leave your computer. All processing happens locally.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üíØ</div>
                    <h3>100% Free</h3>
                    <p>No hidden costs, watermarks, or limitations. Completely free to use.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Mobile Friendly</h3>
                    <p>Works perfectly on all devices - desktop, tablet, and mobile.</p>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <div class="privacy-notice">
            <strong>Privacy First:</strong> All image processing happens in your browser. Your files never leave your computer or get stored on our servers.
        </div>
    </div>

    <main class="container" id="tools">
        <div class="section-title">
            <h2>Our Image Tools</h2>
            <p>Select a tool to get started with your image processing</p>
        </div>

        <div class="tools-grid">
            <div class="tool-card active" data-tool="jpg-to-pdf">
                <div class="tool-icon">üìÑ</div>
                <h3>JPG to PDF</h3>
                <p>Convert multiple JPG images to a single PDF document</p>
            </div>
            <div class="tool-card" data-tool="image-resizer">
                <div class="tool-icon">üîÑ</div>
                <h3>Image Resizer</h3>
                <p>Resize images to any dimensions or file size</p>
            </div>
            <div class="tool-card" data-tool="image-compressor">
                <div class="tool-icon">üóúÔ∏è</div>
                <h3>Image Compressor</h3>
                <p>Reduce image file size without losing quality</p>
            </div>
            <div class="tool-card" data-tool="image-editor">
                <div class="tool-icon">üé®</div>
                <h3>Image Editor</h3>
                <p>Adjust brightness, contrast, and apply filters</p>
            </div>
        </div>

        <!-- JPG to PDF Converter -->
        <div class="tool-content active" id="jpg-to-pdf">
            <h2>JPG to PDF Converter</h2>
            <p>Easily convert your JPG images into a PDF document. Perfect for creating portfolios, documents, or sharing multiple images in one file.</p>
            
            <div class="upload-area" id="pdf-upload-area">
                <i>üìÅ</i>
                <h3>Drag & Drop your images here</h3>
                <p>or click to browse files (Maximum 10 images)</p>
                <input type="file" class="file-input" id="pdf-file-input" accept="image/jpeg, image/jpg" multiple>
            </div>
            
            <div class="preview-container" id="pdf-preview-container">
                <!-- Preview items will be added here dynamically -->
            </div>
            
            <div class="loading" id="pdf-loading">
                <div class="loading-spinner"></div>
                <p>Converting images to PDF...</p>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="pdf-quality">PDF Quality</label>
                    <select id="pdf-quality">
                        <option value="1.0">High Quality (Large File)</option>
                        <option value="0.8" selected>Medium Quality (Recommended)</option>
                        <option value="0.6">Low Quality (Small File)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="pdf-orientation">Page Orientation</label>
                    <select id="pdf-orientation">
                        <option value="portrait" selected>Portrait</option>
                        <option value="landscape">Landscape</option>
                        <option value="auto">Auto (Based on images)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="pdf-margin">Page Margin (mm)</label>
                    <input type="number" id="pdf-margin" min="0" max="50" value="10">
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" id="convert-to-pdf">
                    <i>üîÑ</i> Convert to PDF
                </button>
                <button class="btn btn-secondary" id="clear-pdf-images">
                    <i>üóëÔ∏è</i> Clear All
                </button>
            </div>
        </div>

        <!-- Image Resizer -->
        <div class="tool-content" id="image-resizer">
            <h2>Image Resizer</h2>
            <p>Resize your images to specific dimensions or target file size. Perfect for social media, websites, or reducing file size.</p>
            
            <div class="upload-area" id="resize-upload-area">
                <i>üìÅ</i>
                <h3>Drag & Drop your image here</h3>
                <p>or click to browse files</p>
                <input type="file" class="file-input" id="resize-file-input" accept="image/*">
            </div>
            
            <div class="image-editor">
                <div class="editor-container">
                    <div class="image-preview" id="resize-preview">
                        <p>Your image will appear here</p>
                    </div>
                    <div class="editor-controls">
                        <div class="resize-controls">
                            <div class="control-group">
                                <label for="resize-width">Width (px)</label>
                                <input type="number" id="resize-width" min="1" placeholder="Auto">
                            </div>
                            <div class="control-group">
                                <label for="resize-height">Height (px)</label>
                                <input type="number" id="resize-height" min="1" placeholder="Auto">
                            </div>
                        </div>
                        
                        <div class="slider-container">
                            <label for="resize-scale">Scale (%)</label>
                            <input type="range" class="slider" id="resize-scale" min="10" max="200" value="100">
                            <div class="slider-value" id="resize-scale-value">100%</div>
                        </div>
                        
                        <!-- New File Size Control -->
                        <div class="control-group">
                            <label for="resize-target-size">Target File Size</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="number" id="resize-target-size" min="1" placeholder="Size" style="flex: 2;">
                                <select id="resize-size-unit" style="flex: 1;">
                                    <option value="KB">KB</option>
                                    <option value="MB">MB</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label for="resize-maintain-aspect">Maintain Aspect Ratio</label>
                            <select id="resize-maintain-aspect">
                                <option value="yes" selected>Yes (Recommended)</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        
                        <div class="size-info" id="resize-size-info">
                            <p>Current Size: <span id="current-size">-</span></p>
                            <p>New Size: <span id="new-size">-</span></p>
                            <p>File Size: <span id="file-size">-</span></p>
                            <p>Target Size: <span id="target-size-display">-</span></p>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="apply-resize">
                                <i>üîÑ</i> Apply Resize
                            </button>
                            <button class="btn btn-warning" id="resize-to-target">
                                <i>üéØ</i> Resize to Target Size
                            </button>
                            <button class="btn btn-success" id="download-resized">
                                <i>üíæ</i> Download Image
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Image Compressor -->
        <div class="tool-content" id="image-compressor">
            <h2>Image Compressor</h2>
            <p>Reduce your image file size without noticeable quality loss. Perfect for web use, email attachments, or saving storage space.</p>
            
            <div class="upload-area" id="compress-upload-area">
                <i>üìÅ</i>
                <h3>Drag & Drop your image here</h3>
                <p>or click to browse files</p>
                <input type="file" class="file-input" id="compress-file-input" accept="image/*">
            </div>
            
            <div class="image-editor">
                <div class="editor-container">
                    <div class="image-preview" id="compress-preview">
                        <p>Your image will appear here</p>
                    </div>
                    <div class="editor-controls">
                        <div class="slider-container">
                            <label for="compress-quality">Compression Quality</label>
                            <input type="range" class="slider" id="compress-quality" min="10" max="100" value="80">
                            <div class="slider-value" id="compress-quality-value">80%</div>
                        </div>
                        
                        <div class="file-info" id="compress-file-info">
                            <p>Original Size: <span id="original-size">-</span></p>
                            <p>Compressed Size: <span id="compressed-size">-</span></p>
                            <p>Reduction: <span id="reduction-percent">-</span></p>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="apply-compression">
                                <i>üóúÔ∏è</i> Compress Image
                            </button>
                            <button class="btn btn-success" id="download-compressed">
                                <i>üíæ</i> Download Compressed
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Image Editor -->
        <div class="tool-content" id="image-editor">
            <h2>Image Editor</h2>
            <p>Adjust your images with various editing tools. All changes are applied in real-time as you adjust the sliders.</p>
            
            <div class="upload-area" id="edit-upload-area">
                <i>üìÅ</i>
                <h3>Drag & Drop your image here</h3>
                <p>or click to browse files</p>
                <input type="file" class="file-input" id="edit-file-input" accept="image/*">
            </div>
            
            <div class="image-editor">
                <div class="editor-container">
                    <div class="image-preview" id="edit-preview">
                        <p>Your image will appear here</p>
                    </div>
                    <div class="editor-controls">
                        <div class="slider-container">
                            <label for="edit-brightness">Brightness</label>
                            <input type="range" class="slider" id="edit-brightness" min="-100" max="100" value="0">
                            <div class="slider-value" id="edit-brightness-value">0%</div>
                        </div>
                        
                        <div class="slider-container">
                            <label for="edit-contrast">Contrast</label>
                            <input type="range" class="slider" id="edit-contrast" min="-100" max="100" value="0">
                            <div class="slider-value" id="edit-contrast-value">0%</div>
                        </div>
                        
                        <div class="slider-container">
                            <label for="edit-saturation">Saturation</label>
                            <input type="range" class="slider" id="edit-saturation" min="-100" max="100" value="0">
                            <div class="slider-value" id="edit-saturation-value">0%</div>
                        </div>
                        
                        <div class="slider-container">
                            <label for="edit-blur">Blur</label>
                            <input type="range" class="slider" id="edit-blur" min="0" max="10" value="0" step="0.1">
                            <div class="slider-value" id="edit-blur-value">0px</div>
                        </div>
                        
                        <div class="control-group">
                            <label for="edit-filter">Filter</label>
                            <select id="edit-filter">
                                <option value="none" selected>None</option>
                                <option value="grayscale">Grayscale</option>
                                <option value="sepia">Sepia</option>
                                <option value="invert">Invert</option>
                                <option value="hue-rotate">Hue Rotate</option>
                            </select>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-success" id="download-edited">
                                <i>üíæ</i> Download Edited
                            </button>
                            <button class="btn btn-secondary" id="reset-edits">
                                <i>üîÑ</i> Reset
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Blog Section -->
    <section class="blog-section" id="blog">
        <div class="container">
            <div class="section-title">
                <h2>Image Editing Tips & Tutorials</h2>
                <p>Learn how to make the most of our tools with these helpful guides</p>
            </div>
            
            <div class="blog-grid">
                <div class="blog-card">
                    <div class="blog-image">üì∑</div>
                    <div class="blog-content">
                        <h3>How to Optimize Images for Web</h3>
                        <p>Learn the best practices for resizing and compressing images to improve website loading speed without sacrificing quality.</p>
                        <a href="#" class="read-more">Read More ‚Üí</a>
                    </div>
                </div>
                
                <div class="blog-card">
                    <div class="blog-image">üìÑ</div>
                    <div class="blog-content">
                        <h3>Creating Professional PDFs from Images</h3>
                        <p>Step-by-step guide to converting your image collections into well-formatted PDF documents for presentations and portfolios.</p>
                        <a href="#" class="read-more">Read More ‚Üí</a>
                    </div>
                </div>
                
                <div class="blog-card">
                    <div class="blog-image">üé®</div>
                    <div class="blog-content">
                        <h3>Basic Image Editing Techniques</h3>
                        <p>Discover how to use brightness, contrast, and saturation adjustments to enhance your photos quickly and effectively.</p>
                        <a href="#" class="read-more">Read More ‚Üí</a>
                    </div>
                </div>
            </div>
            
            <!-- Comments Section -->
            <div class="comments-section" id="contact">
                <h3>Share Your Thoughts</h3>
                <p>Have questions or suggestions? Leave a comment below!</p>
                
                <div class="comment-form">
                    <div class="form-group">
                        <label for="comment-name">Name</label>
                        <input type="text" id="comment-name" placeholder="Your name">
                    </div>
                    <div class="form-group">
                        <label for="comment-email">Email (optional)</label>
                        <input type="email" id="comment-email" placeholder="Your email">
                    </div>
                    <div class="form-group">
                        <label for="comment-text">Comment</label>
                        <textarea id="comment-text" placeholder="Share your thoughts..."></textarea>
                    </div>
                    <button class="btn btn-primary" id="submit-comment">Submit Comment</button>
                </div>
                
                <div class="comments-list" id="comments-container">
                    <div class="comment">
                        <div class="comment-header">
                            <span class="comment-author">Rahul Sharma</span>
                            <span class="comment-date">March 15, 2023</span>
                        </div>
                        <div class="comment-text">
                            This is a great tool! I use it regularly to convert my product images for my online store. The quality is always perfect.
                        </div>
                    </div>
                    
                    <div class="comment">
                        <div class="comment-header">
                            <span class="comment-author">Priya Patel</span>
                            <span class="comment-date">February 28, 2023</span>
                        </div>
                        <div class="comment-text">
                            The image resizer with target file size feature saved me so much time! I no longer need to guess the right dimensions.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo">
                        <div class="logo-icon">APNA</div>
                        <h1>APNA Online Service</h1>
                    </div>
                    <p>Free online image tools for everyone</p>
                </div>
                <div class="footer-links">
                    <a href="#">Home</a>
                    <a href="#tools">Tools</a>
                    <a href="#blog">Blog</a>
                    <a href="#contact">Contact</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                </div>
                <p class="copyright">¬© 2023 APNA Online Service. All rights reserved.</p>
                <p class="powered-by">Powered by APNA Online Service</p>
            </div>
        </div>
    </footer>

    <script>
        // Initialize jsPDF
        const { jsPDF } = window.jspdf;

        // Tool navigation with auto-scroll
        document.querySelectorAll('.tool-card').forEach(card => {
            card.addEventListener('click', () => {
                // Remove active class from all cards and content
                document.querySelectorAll('.tool-card').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.tool-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked card and corresponding content
                card.classList.add('active');
                const toolId = card.getAttribute('data-tool');
                const toolContent = document.getElementById(toolId);
                toolContent.classList.add('active');
                
                // Auto-scroll to the tool content
                toolContent.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });

        // JPG to PDF Converter functionality
        const pdfFileInput = document.getElementById('pdf-file-input');
        const pdfUploadArea = document.getElementById('pdf-upload-area');
        const pdfPreviewContainer = document.getElementById('pdf-preview-container');
        const convertToPdfBtn = document.getElementById('convert-to-pdf');
        const clearPdfImagesBtn = document.getElementById('clear-pdf-images');
        const pdfLoading = document.getElementById('pdf-loading');
        
        let pdfImages = [];
        
        pdfUploadArea.addEventListener('click', () => {
            pdfFileInput.click();
        });
        
        pdfUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            pdfUploadArea.style.borderColor = 'var(--accent)';
            pdfUploadArea.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
        });
        
        pdfUploadArea.addEventListener('dragleave', () => {
            pdfUploadArea.style.borderColor = 'var(--gray)';
            pdfUploadArea.style.backgroundColor = '';
        });
        
        pdfUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            pdfUploadArea.style.borderColor = 'var(--gray)';
            pdfUploadArea.style.backgroundColor = '';
            
            if (e.dataTransfer.files.length > 0) {
                handlePdfFiles(e.dataTransfer.files);
            }
        });
        
        pdfFileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handlePdfFiles(e.target.files);
            }
        });
        
        function handlePdfFiles(files) {
            const maxFiles = 10;
            
            if (pdfImages.length + files.length > maxFiles) {
                alert(`You can only upload up to ${maxFiles} images`);
                return;
            }
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                
                if (!file.type.match('image/jpeg') && !file.type.match('image/jpg')) {
                    alert('Please upload only JPG/JPEG images');
                    continue;
                }
                
                const reader = new FileReader();
                
                reader.onload = (e) => {
                    pdfImages.push({
                        name: file.name,
                        dataUrl: e.target.result,
                        file: file
                    });
                    
                    updatePdfPreview();
                };
                
                reader.readAsDataURL(file);
            }
        }
        
        function updatePdfPreview() {
            pdfPreviewContainer.innerHTML = '';
            
            pdfImages.forEach((image, index) => {
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';
                
                const img = document.createElement('img');
                img.src = image.dataUrl;
                img.alt = image.name;
                
                const removeBtn = document.createElement('button');
                removeBtn.className = 'remove-btn';
                removeBtn.innerHTML = '√ó';
                removeBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    pdfImages.splice(index, 1);
                    updatePdfPreview();
                });
                
                previewItem.appendChild(img);
                previewItem.appendChild(removeBtn);
                pdfPreviewContainer.appendChild(previewItem);
            });
        }
        
        clearPdfImagesBtn.addEventListener('click', () => {
            pdfImages = [];
            updatePdfPreview();
        });
        
        convertToPdfBtn.addEventListener('click', async () => {
            if (pdfImages.length === 0) {
                alert('Please upload at least one image');
                return;
            }
            
            // Show loading indicator
            pdfLoading.style.display = 'block';
            
            try {
                // Create a new PDF document
                const pdf = new jsPDF();
                const orientation = document.getElementById('pdf-orientation').value;
                const margin = parseInt(document.getElementById('pdf-margin').value);
                const quality = parseFloat(document.getElementById('pdf-quality').value);
                
                // Process each image
                for (let i = 0; i < pdfImages.length; i++) {
                    const image = pdfImages[i];
                    
                    // Add a new page for each image after the first one
                    if (i > 0) {
                        pdf.addPage();
                    }
                    
                    // Get image dimensions
                    const img = new Image();
                    await new Promise((resolve) => {
                        img.onload = resolve;
                        img.src = image.dataUrl;
                    });
                    
                    // Calculate dimensions to fit the page
                    const pageWidth = pdf.internal.pageSize.getWidth();
                    const pageHeight = pdf.internal.pageSize.getHeight();
                    
                    let imgWidth = img.width;
                    let imgHeight = img.height;
                    
                    // Adjust orientation if needed
                    if (orientation === 'portrait' && imgWidth > imgHeight) {
                        // Swap dimensions for portrait
                        [imgWidth, imgHeight] = [imgHeight, imgWidth];
                    } else if (orientation === 'landscape' && imgHeight > imgWidth) {
                        // Swap dimensions for landscape
                        [imgWidth, imgHeight] = [imgHeight, imgWidth];
                    }
                    
                    // Calculate scaling to fit page with margins
                    const marginPoints = margin * 0.3528; // Convert mm to points (1mm = 0.3528pt)
                    const maxWidth = pageWidth - (2 * marginPoints);
                    const maxHeight = pageHeight - (2 * marginPoints);
                    
                    const widthRatio = maxWidth / imgWidth;
                    const heightRatio = maxHeight / imgHeight;
                    const ratio = Math.min(widthRatio, heightRatio);
                    
                    const finalWidth = imgWidth * ratio;
                    const finalHeight = imgHeight * ratio;
                    
                    // Center the image on the page
                    const x = (pageWidth - finalWidth) / 2;
                    const y = (pageHeight - finalHeight) / 2;
                    
                    // Add image to PDF
                    pdf.addImage(image.dataUrl, 'JPEG', x, y, finalWidth, finalHeight, null, 'FAST');
                }
                
                // Save the PDF
                pdf.save('converted-images.pdf');
                
            } catch (error) {
                console.error('Error converting to PDF:', error);
                alert('Error converting images to PDF. Please try again.');
            } finally {
                // Hide loading indicator
                pdfLoading.style.display = 'none';
            }
        });

        // Image Resizer functionality with file size display
        const resizeFileInput = document.getElementById('resize-file-input');
        const resizeUploadArea = document.getElementById('resize-upload-area');
        const resizePreview = document.getElementById('resize-preview');
        const resizeWidth = document.getElementById('resize-width');
        const resizeHeight = document.getElementById('resize-height');
        const resizeScale = document.getElementById('resize-scale');
        const resizeScaleValue = document.getElementById('resize-scale-value');
        const resizeMaintainAspect = document.getElementById('resize-maintain-aspect');
        const applyResizeBtn = document.getElementById('apply-resize');
        const downloadResizedBtn = document.getElementById('download-resized');
        const currentSizeEl = document.getElementById('current-size');
        const newSizeEl = document.getElementById('new-size');
        const fileSizeEl = document.getElementById('file-size');
        
        // New variables for target size functionality
        const resizeTargetSize = document.getElementById('resize-target-size');
        const resizeSizeUnit = document.getElementById('resize-size-unit');
        const resizeToTargetBtn = document.getElementById('resize-to-target');
        const targetSizeDisplay = document.getElementById('target-size-display');
        
        let originalResizeImage = null;
        let currentResizeImage = null;
        let originalResizeFile = null;
        
        resizeUploadArea.addEventListener('click', () => {
            resizeFileInput.click();
        });
        
        resizeFileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleResizeFile(e.target.files[0]);
            }
        });
        
        function handleResizeFile(file) {
            if (!file.type.match('image/*')) {
                alert('Please upload an image file');
                return;
            }
            
            originalResizeFile = file;
            const reader = new FileReader();
            
            reader.onload = (e) => {
                originalResizeImage = new Image();
                originalResizeImage.onload = () => {
                    resizePreview.innerHTML = '';
                    resizePreview.appendChild(originalResizeImage);
                    currentResizeImage = originalResizeImage;
                    
                    // Set default dimensions
                    resizeWidth.value = originalResizeImage.width;
                    resizeHeight.value = originalResizeImage.height;
                    
                    // Update size info
                    updateSizeInfo();
                };
                originalResizeImage.src = e.target.result;
            };
            
            reader.readAsDataURL(file);
        }
        
        resizeScale.addEventListener('input', () => {
            resizeScaleValue.textContent = `${resizeScale.value}%`;
            
            if (originalResizeImage) {
                const scale = parseInt(resizeScale.value) / 100;
                const newWidth = Math.round(originalResizeImage.width * scale);
                const newHeight = Math.round(originalResizeImage.height * scale);
                
                resizeWidth.value = newWidth;
                resizeHeight.value = newHeight;
                
                updateSizeInfo();
            }
        });
        
        resizeWidth.addEventListener('input', updateSizeInfo);
        resizeHeight.addEventListener('input', updateSizeInfo);
        
        // Target size display update function
        function updateTargetSizeDisplay() {
            const size = resizeTargetSize.value;
            const unit = resizeSizeUnit.value;
            
            if (size) {
                targetSizeDisplay.textContent = `${size} ${unit}`;
            } else {
                targetSizeDisplay.textContent = '-';
            }
        }
        
        // Event listeners for new controls
        resizeTargetSize.addEventListener('input', updateTargetSizeDisplay);
        resizeSizeUnit.addEventListener('change', updateTargetSizeDisplay);
        
        function updateSizeInfo() {
            if (!originalResizeImage) return;
            
            const currentWidth = originalResizeImage.width;
            const currentHeight = originalResizeImage.height;
            const newWidth = parseInt(resizeWidth.value) || currentWidth;
            const newHeight = parseInt(resizeHeight.value) || currentHeight;
            
            currentSizeEl.textContent = `${currentWidth} √ó ${currentHeight} px`;
            newSizeEl.textContent = `${newWidth} √ó ${newHeight} px`;
            
            // Calculate approximate file size
            const originalSizeKB = Math.round(originalResizeFile.size / 1024);
            const sizeRatio = (newWidth * newHeight) / (currentWidth * currentHeight);
            const estimatedSizeKB = Math.round(originalSizeKB * sizeRatio);
            
            if (estimatedSizeKB < 1024) {
                fileSizeEl.textContent = `${estimatedSizeKB} KB (approx)`;
            } else {
                fileSizeEl.textContent = `${(estimatedSizeKB / 1024).toFixed(1)} MB (approx)`;
            }
            
            updateTargetSizeDisplay();
        }
        
        applyResizeBtn.addEventListener('click', applyResize);
        
        function applyResize() {
            if (!originalResizeImage) {
                alert('Please upload an image first');
                return;
            }
            
            const width = parseInt(resizeWidth.value) || originalResizeImage.width;
            const height = parseInt(resizeHeight.value) || originalResizeImage.height;
            
            // Create a canvas to resize the image
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = width;
            canvas.height = height;
            
            ctx.drawImage(originalResizeImage, 0, 0, width, height);
            
            // Update the preview
            const resizedImage = new Image();
            resizedImage.src = canvas.toDataURL('image/jpeg', 0.9);
            resizedImage.onload = () => {
                resizePreview.innerHTML = '';
                resizePreview.appendChild(resizedImage);
                currentResizeImage = resizedImage;
            };
        }
        
        // Resize to target size functionality
        resizeToTargetBtn.addEventListener('click', resizeToTargetSize);
        
        function resizeToTargetSize() {
            if (!originalResizeImage) {
                alert('Please upload an image first');
                return;
            }
            
            const targetSize = parseFloat(resizeTargetSize.value);
            const unit = resizeSizeUnit.value;
            
            if (!targetSize || targetSize <= 0) {
                alert('Please enter a valid target size');
                return;
            }
            
            // Convert target size to bytes
            let targetBytes;
            if (unit === 'KB') {
                targetBytes = targetSize * 1024;
            } else { // MB
                targetBytes = targetSize * 1024 * 1024;
            }
            
            // Current file size
            const currentSize = originalResizeFile.size;
            
            if (targetBytes >= currentSize) {
                alert('Target size should be smaller than current file size');
                return;
            }
            
            // Calculate quality needed to achieve target size
            // This is an approximation - we'll use binary search to find the right quality
            findOptimalQuality(originalResizeImage, targetBytes, (quality, dataUrl) => {
                // Update the preview with compressed image
                const compressedImage = new Image();
                compressedImage.src = dataUrl;
                compressedImage.onload = () => {
                    resizePreview.innerHTML = '';
                    resizePreview.appendChild(compressedImage);
                    currentResizeImage = compressedImage;
                    
                    // Update dimensions
                    resizeWidth.value = compressedImage.width;
                    resizeHeight.value = compressedImage.height;
                    
                    // Update size info
                    updateSizeInfo();
                    
                    alert(`Image resized to approximately ${targetSize} ${unit}`);
                };
            });
        }
        
        // Binary search to find optimal quality for target file size
        function findOptimalQuality(image, targetBytes, callback) {
            let low = 0.1;
            let high = 1.0;
            let bestQuality = 0.7;
            let bestDataUrl = null;
            
            function testQuality(quality) {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                canvas.width = image.width;
                canvas.height = image.height;
                
                ctx.drawImage(image, 0, 0);
                
                const dataUrl = canvas.toDataURL('image/jpeg', quality);
                const size = Math.round((dataUrl.length - 'data:image/jpeg;base64,'.length) * 0.75);
                
                return { dataUrl, size };
            }
            
            // Binary search for optimal quality
            for (let i = 0; i < 10; i++) {
                const mid = (low + high) / 2;
                const result = testQuality(mid);
                
                if (result.size > targetBytes) {
                    // File too big, need lower quality
                    high = mid;
                } else {
                    // File small enough, can try higher quality
                    low = mid;
                    bestQuality = mid;
                    bestDataUrl = result.dataUrl;
                }
            }
            
            callback(bestQuality, bestDataUrl);
        }
        
        downloadResizedBtn.addEventListener('click', () => {
            if (!currentResizeImage) {
                alert('Please upload and resize an image first');
                return;
            }
            
            const link = document.createElement('a');
            link.href = currentResizeImage.src;
            link.download = 'resized-image.jpg';
            link.click();
        });

        // Image Compressor functionality
        const compressFileInput = document.getElementById('compress-file-input');
        const compressUploadArea = document.getElementById('compress-upload-area');
        const compressPreview = document.getElementById('compress-preview');
        const compressQuality = document.getElementById('compress-quality');
        const compressQualityValue = document.getElementById('compress-quality-value');
        const originalSize = document.getElementById('original-size');
        const compressedSize = document.getElementById('compressed-size');
        const reductionPercent = document.getElementById('reduction-percent');
        const applyCompressionBtn = document.getElementById('apply-compression');
        const downloadCompressedBtn = document.getElementById('download-compressed');
        
        let originalCompressImage = null;
        let currentCompressImage = null;
        let originalFileSize = 0;
        
        compressUploadArea.addEventListener('click', () => {
            compressFileInput.click();
        });
        
        compressFileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleCompressFile(e.target.files[0]);
            }
        });
        
        function handleCompressFile(file) {
            if (!file.type.match('image/*')) {
                alert('Please upload an image file');
                return;
            }
            
            originalFileSize = file.size;
            originalSize.textContent = formatFileSize(originalFileSize);
            
            const reader = new FileReader();
            
            reader.onload = (e) => {
                originalCompressImage = new Image();
                originalCompressImage.onload = () => {
                    compressPreview.innerHTML = '';
                    compressPreview.appendChild(originalCompressImage);
                    currentCompressImage = originalCompressImage;
                    
                    // Apply initial compression
                    applyCompression();
                };
                originalCompressImage.src = e.target.result;
            };
            
            reader.readAsDataURL(file);
        }
        
        compressQuality.addEventListener('input', () => {
            compressQualityValue.textContent = `${compressQuality.value}%`;
            applyCompression();
        });
        
        function applyCompression() {
            if (!originalCompressImage) {
                alert('Please upload an image first');
                return;
            }
            
            // Create a canvas to compress the image
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = originalCompressImage.width;
            canvas.height = originalCompressImage.height;
            
            ctx.drawImage(originalCompressImage, 0, 0);
            
            // Get the compressed data URL
            const quality = parseInt(compressQuality.value) / 100;
            const compressedDataUrl = canvas.toDataURL('image/jpeg', quality);
            
            // Calculate compressed size
            const compressedSizeBytes = Math.round((compressedDataUrl.length - 'data:image/jpeg;base64,'.length) * 0.75);
            compressedSize.textContent = formatFileSize(compressedSizeBytes);
            
            // Calculate reduction percentage
            const reduction = ((originalFileSize - compressedSizeBytes) / originalFileSize * 100).toFixed(1);
            reductionPercent.textContent = `${reduction}%`;
            
            // Update the preview
            const compressedImage = new Image();
            compressedImage.src = compressedDataUrl;
            compressedImage.onload = () => {
                compressPreview.innerHTML = '';
                compressPreview.appendChild(compressedImage);
                currentCompressImage = compressedImage;
            };
        }
        
        downloadCompressedBtn.addEventListener('click', () => {
            if (!currentCompressImage) {
                alert('Please upload and compress an image first');
                return;
            }
            
            const link = document.createElement('a');
            link.href = currentCompressImage.src;
            link.download = 'compressed-image.jpg';
            link.click();
        });
        
        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' bytes';
            else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
            else return (bytes / 1048576).toFixed(1) + ' MB';
        }

        // Image Editor functionality with real-time updates
        const editFileInput = document.getElementById('edit-file-input');
        const editUploadArea = document.getElementById('edit-upload-area');
        const editPreview = document.getElementById('edit-preview');
        const editBrightness = document.getElementById('edit-brightness');
        const editBrightnessValue = document.getElementById('edit-brightness-value');
        const editContrast = document.getElementById('edit-contrast');
        const editContrastValue = document.getElementById('edit-contrast-value');
        const editSaturation = document.getElementById('edit-saturation');
        const editSaturationValue = document.getElementById('edit-saturation-value');
        const editBlur = document.getElementById('edit-blur');
        const editBlurValue = document.getElementById('edit-blur-value');
        const editFilter = document.getElementById('edit-filter');
        const downloadEditedBtn = document.getElementById('download-edited');
        const resetEditsBtn = document.getElementById('reset-edits');
        
        let originalEditImage = null;
        let currentEditImage = null;
        let editCanvas = null;
        let editCtx = null;
        
        editUploadArea.addEventListener('click', () => {
            editFileInput.click();
        });
        
        editFileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleEditFile(e.target.files[0]);
            }
        });
        
        function handleEditFile(file) {
            if (!file.type.match('image/*')) {
                alert('Please upload an image file');
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = (e) => {
                originalEditImage = new Image();
                originalEditImage.onload = () => {
                    // Create canvas for editing
                    editCanvas = document.createElement('canvas');
                    editCtx = editCanvas.getContext('2d');
                    editCanvas.width = originalEditImage.width;
                    editCanvas.height = originalEditImage.height;
                    
                    // Draw original image
                    editCtx.drawImage(originalEditImage, 0, 0);
                    
                    // Create preview image
                    currentEditImage = new Image();
                    currentEditImage.src = editCanvas.toDataURL();
                    
                    editPreview.innerHTML = '';
                    editPreview.appendChild(currentEditImage);
                    
                    // Reset all controls
                    resetEditControls();
                    
                    // Apply initial filters
                    applyEdits();
                };
                originalEditImage.src = e.target.result;
            };
            
            reader.readAsDataURL(file);
        }
        
        // Update slider values and apply changes in real-time
        editBrightness.addEventListener('input', () => {
            editBrightnessValue.textContent = `${editBrightness.value}%`;
            applyEdits();
        });
        
        editContrast.addEventListener('input', () => {
            editContrastValue.textContent = `${editContrast.value}%`;
            applyEdits();
        });
        
        editSaturation.addEventListener('input', () => {
            editSaturationValue.textContent = `${editSaturation.value}%`;
            applyEdits();
        });
        
        editBlur.addEventListener('input', () => {
            editBlurValue.textContent = `${editBlur.value}px`;
            applyEdits();
        });
        
        editFilter.addEventListener('change', applyEdits);
        
        function applyEdits() {
            if (!originalEditImage || !editCtx) {
                return;
            }
            
            // Clear canvas
            editCtx.clearRect(0, 0, editCanvas.width, editCanvas.height);
            
            // Apply CSS filters
            let filter = '';
            
            if (editBrightness.value !== '0') {
                filter += `brightness(${100 + parseInt(editBrightness.value)}%) `;
            }
            
            if (editContrast.value !== '0') {
                filter += `contrast(${100 + parseInt(editContrast.value)}%) `;
            }
            
            if (editSaturation.value !== '0') {
                filter += `saturate(${100 + parseInt(editSaturation.value)}%) `;
            }
            
            if (editBlur.value !== '0') {
                filter += `blur(${editBlur.value}px) `;
            }
            
            switch (editFilter.value) {
                case 'grayscale':
                    filter += 'grayscale(100%) ';
                    break;
                case 'sepia':
                    filter += 'sepia(100%) ';
                    break;
                case 'invert':
                    filter += 'invert(100%) ';
                    break;
                case 'hue-rotate':
                    filter += 'hue-rotate(90deg) ';
                    break;
            }
            
            // Apply the filter to the canvas
            editCtx.filter = filter.trim();
            editCtx.drawImage(originalEditImage, 0, 0);
            
            // Update the preview
            currentEditImage.src = editCanvas.toDataURL();
        }
        
        downloadEditedBtn.addEventListener('click', () => {
            if (!currentEditImage) {
                alert('Please upload and edit an image first');
                return;
            }
            
            const link = document.createElement('a');
            link.href = currentEditImage.src;
            link.download = 'edited-image.jpg';
            link.click();
        });
        
        resetEditsBtn.addEventListener('click', resetEditControls);
        
        function resetEditControls() {
            editBrightness.value = '0';
            editBrightnessValue.textContent = '0%';
            editContrast.value = '0';
            editContrastValue.textContent = '0%';
            editSaturation.value = '0';
            editSaturationValue.textContent = '0%';
            editBlur.value = '0';
            editBlurValue.textContent = '0px';
            editFilter.value = 'none';
            
            if (originalEditImage) {
                applyEdits();
            }
        }
        
        // Comments functionality
        const submitCommentBtn = document.getElementById('submit-comment');
        const commentsContainer = document.getElementById('comments-container');
        
        submitCommentBtn.addEventListener('click', () => {
            const name = document.getElementById('comment-name').value;
            const email = document.getElementById('comment-email').value;
            const text = document.getElementById('comment-text').value;
            
            if (!name || !text) {
                alert('Please enter your name and comment');
                return;
            }
            
            const comment = document.createElement('div');
            comment.className = 'comment';
            
            const date = new Date().toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            comment.innerHTML = `
                <div class="comment-header">
                    <span class="comment-author">${name}</span>
                    <span class="comment-date">${date}</span>
                </div>
                <div class="comment-text">${text}</div>
            `;
            
            commentsContainer.prepend(comment);
            
            // Clear form
            document.getElementById('comment-name').value = '';
            document.getElementById('comment-email').value = '';
            document.getElementById('comment-text').value = '';
            
            alert('Thank you for your comment!');
        });
    </script>
</body>
</html>